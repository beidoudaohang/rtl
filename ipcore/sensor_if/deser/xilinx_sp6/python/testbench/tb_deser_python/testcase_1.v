//-------------------------------------------------------------------------------------------------
//  -- 版权所有者   : 中国大恒（集团）有限公司北京图像视觉技术分公司, 2010 -2015.
//  -- 保密级别     ：绝密.
//  -- 部门         : 硬件部，FPGA工作组
//  -- 模块名       : testcase_1
//  -- 设计者       : 邢海涛
//-------------------------------------------------------------------------------------------------
//
//  -- 版本记录 :
//
//  -- 作者         :| 修改日期				:|  修改说明
//-------------------------------------------------------------------------------------------------
//  -- 邢海涛       :| 2015/4/10 16:50:28	:|  初始版本
//-------------------------------------------------------------------------------------------------
//
//  -- 模块描述     : 窗口大小是16x16，开采信号有效，正常模式下的运行状况
//              1)  : ... ...
//
//              2)  : ... ...
//
//              3)  : ... ...
//
//-------------------------------------------------------------------------------------------------
//仿真单位/精度
`timescale 1ns/1ps
//-------------------------------------------------------------------------------------------------

module testcase_1 ();

	//	ref signals
	//	===============================================================================================
	//	--ref parameter
	//	===============================================================================================
	//	-------------------------------------------------------------------------------------
	//	TESTCASE
	//	-------------------------------------------------------------------------------------
	parameter	TESTCASE_NUM			= "testcase_1"			;	//其他模块需要使用字符串
	//	-------------------------------------------------------------------------------------
	//	sensor model parameter
	//	-------------------------------------------------------------------------------------
	parameter	PYTHON_IMAGE_SRC				= "RANDOM"			;	//"RANDOM" or "FILE" or "LINE_INC" or "FRAME_INC" or "FRAME_INC_NO_RST" or "PIX_INC_NO_FVAL" or "PIX_INC"
	parameter	PYTHON_DATA_WIDTH				= 10				;	//数据宽度
	parameter	PYTHON_SOURCE_FILE_PATH			= "source_file/"	;	//数据源文件路径
	parameter	PYTHON_GEN_FILE_EN				= 0					;	//0-生成的图像不写入文件，1-生成的图像写入文件
	parameter	PYTHON_GEN_FILE_PATH			= "gen_file/"		;	//产生的数据要写入的路径
	parameter	PYTHON_NOISE_EN					= 0					;	//0-不加入噪声，1-加入噪声

	//	-------------------------------------------------------------------------------------
	//	dut paramter
	//	-------------------------------------------------------------------------------------
	parameter	SER_FIRST_BIT		= "MSB"	;
	parameter	END_STYLE			= "LITTLE"	;
	parameter	SER_DATA_RATE		= "DDR"	;
	parameter	DESER_CLOCK_ARC		= "BUFPLL"	;
	parameter	CHANNEL_NUM			= 4	;
	parameter	DESER_WIDTH			= 5	;
	parameter	CLKIN_PERIOD_PS		= 3030	;
	parameter	DATA_DELAY_TYPE		= "DIFF_PHASE_DETECTOR"	;
	parameter	DATA_DELAY_VALUE	= 0	;
	parameter	BITSLIP_ENABLE		= "TRUE"	;

	//	-------------------------------------------------------------------------------------
	//	monitor paramter
	//	-------------------------------------------------------------------------------------


	//	-------------------------------------------------------------------------------------
	//	testcase parameter
	//	-------------------------------------------------------------------------------------
	parameter	CLK_PERIOD				= 20	;	//时钟频率，50MHz

	//	===============================================================================================
	//	--ref signal
	//	===============================================================================================
	//	-------------------------------------------------------------------------------------
	//	sensor signal
	//	-------------------------------------------------------------------------------------
	reg					clk_python		= 1'b0;

	//	-------------------------------------------------------------------------------------
	//	dut signal
	//	-------------------------------------------------------------------------------------
	wire								i_clk_p	;
	wire								i_clk_n	;
	wire	[CHANNEL_NUM:0]				iv_data_p	;
	wire	[CHANNEL_NUM:0]				iv_data_n	;
	wire								reset	;
	reg									i_bitslip_en	;

	//	ref ARCHITECTURE

	//	===============================================================================================
	//	ref ***tb 子模块激励***
	//	===============================================================================================
	//	-------------------------------------------------------------------------------------
	//	--ref Sensor
	//	-------------------------------------------------------------------------------------
	always	#(CLK_PERIOD/2.0)	clk_python	= !clk_python;



	//	-------------------------------------------------------------------------------------
	//	--ref DUT
	//	-------------------------------------------------------------------------------------
	assign	i_clk_p					= driver_python.o_clk_p;
	assign	i_clk_n					= driver_python.o_clk_n;
	assign	iv_data_p				= {driver_python.ov_data_p,driver_python.o_ctrl_p};
	assign	iv_data_n				= {driver_python.ov_data_n,driver_python.o_ctrl_n};

	assign	reset					= 1'b0;

	//	-------------------------------------------------------------------------------------
	//	--ref 仿真时间
	//	-------------------------------------------------------------------------------------
	initial begin
		#200
		#20000
		$stop;
	end

	initial begin
		//$display("** ");
		//#1000000
		i_bitslip_en	= 1'b1;
		#2520
		i_bitslip_en	= 1'b0;
	end


	//	===============================================================================================
	//	ref ***调用bfm task***
	//	===============================================================================================



endmodule
