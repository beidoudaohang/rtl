//-------------------------------------------------------------------------------------------------
//  -- 版权所有者   : 中国大恒（集团）有限公司北京图像视觉技术分公司, 2010 -2015.
//  -- 保密级别     ：绝密.
//  -- 部门         : 硬件部，FPGA工作组
//  -- 模块名       : testcase_1
//  -- 设计者       : 邢海涛
//-------------------------------------------------------------------------------------------------
//
//  -- 版本记录 :
//
//  -- 作者         :| 修改日期				:|  修改说明
//-------------------------------------------------------------------------------------------------
//  -- 邢海涛       :| 2015/4/10 16:50:28	:|  初始版本
//-------------------------------------------------------------------------------------------------
//
//  -- 模块描述     : 窗口大小是16x16，开采信号有效，正常模式下的运行状况
//              1)  : ... ...
//
//              2)  : ... ...
//
//              3)  : ... ...
//
//-------------------------------------------------------------------------------------------------
//仿真单位/精度
`timescale 1ns/1ps
//-------------------------------------------------------------------------------------------------

module testcase_1 ();

	//	ref signals
	//	===============================================================================================
	//	--ref parameter
	//	===============================================================================================
	//	-------------------------------------------------------------------------------------
	//	TESTCASE
	//	-------------------------------------------------------------------------------------
	parameter	TESTCASE_NUM			= "testcase_1"			;	//其他模块需要使用字符串

	//	-------------------------------------------------------------------------------------
	//	testcase parameter
	//	-------------------------------------------------------------------------------------
	parameter	CLK_PERIOD				= 25	;	//时钟频率，40MHz

	//	-------------------------------------------------------------------------------------
	//	dut parameter
	//	-------------------------------------------------------------------------------------
	parameter	UART_TYPE				= "TXRX"	;	//"TX":ONLY TX."RX":ONLY RX."TXRX" or "RXTX":BOTH RX & TX
	parameter	UART_CLK_FREQ_KHZ		= 40000		;	//时钟频率
	parameter	UART_BAUD_RATE			= 115200	;	//波特率

	//	===============================================================================================
	//	--ref signal
	//	===============================================================================================
	//	-------------------------------------------------------------------------------------
	//	dut signal
	//	-------------------------------------------------------------------------------------
	reg						uart_clk			= 1'b0;
	reg						uart_reset			= 1'b0;
	wire					uart_rx_ser			;


	//	ref ARCHITECTURE

	//	===============================================================================================
	//	ref ***tb 子模块激励***
	//	===============================================================================================
	//	-------------------------------------------------------------------------------------
	//	--ref dut
	//	-------------------------------------------------------------------------------------
	always	#(CLK_PERIOD/2.0)	uart_clk	= !uart_clk;

	initial begin
		//$display($time, "Starting the Simulation...");
		//$monitor($time, "count1 is %d,count2 is %b,count3 is %h",cnt1,cnt2,cnt3);
		uart_reset = 1'b1;
		#200
		uart_reset = 1'b0;
		#10000
		$stop;
	end

	assign	uart_rx_ser	= harness.o_uart_tx_ser;

	//	-------------------------------------------------------------------------------------
	//	--ref bfm
	//	-------------------------------------------------------------------------------------
	initial begin
		wait(uart_reset==1'b0);
		repeat(10) @ (posedge uart_clk);
		forever begin
			harness.bfm_uart.uart_wr_1byte_random();
		end
	end

	initial begin
		wait(uart_reset==1'b0);
		repeat(10) @ (posedge uart_clk);
		harness.bfm_uart.uart_rd_always();
	end



endmodule
